{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\Lambda\\\\Next\\\\BITZPRICE\\\\components\\\\Prices.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Prices = /*#__PURE__*/function (_React$Component) {\n  _inherits(Prices, _React$Component);\n\n  var _super = _createSuper(Prices);\n\n  function Prices(props) {\n    var _this;\n\n    _classCallCheck(this, Prices);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      fetchingData: true,\n      data: null,\n      hoverLoc: null,\n      activePoint: null\n    };\n    return _this;\n  }\n\n  _createClass(Prices, [{\n    key: \"handleChartHover\",\n    value: function handleChartHover(hoverLoc, activePoint) {\n      this.setState({\n        hoverLoc: hoverLoc,\n        activePoint: activePoint\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var getData = function getData() {\n        var url = 'https://api.coindesk.com/v1/bpi/historical/close.json';\n        fetch(url).then(function (r) {\n          return r.json();\n        }).then(function (bitcoinData) {\n          var sortedData = [];\n          var count = 0;\n\n          for (var date in bitcoinData.bpi) {\n            sortedData.push({\n              d: moment(date).format('MMM DD'),\n              p: bitcoinData.bpi[date].toLocaleString('us-EN', {\n                style: 'currency',\n                currency: 'USD'\n              }),\n              x: count,\n              //previous days\n              y: bitcoinData.bpi[date] // numerical price\n\n            });\n            count++;\n          }\n\n          _this2.setState({\n            data: sortedData,\n            fetchingData: false\n          });\n        })[\"catch\"](function (e) {\n          console.log(e);\n        });\n      };\n\n      getData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }\n      }, __jsx(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }\n      }, \"30 Day Bitcoin Price Chart\")), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, !this.state.fetchingData ? __jsx(InfoBox, {\n        data: this.state.data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      }) : null), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, this.state.hoverLoc ? __jsx(ToolTip, {\n        hoverLoc: this.state.hoverLoc,\n        activePoint: this.state.activePoint,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 40\n        }\n      }) : null)), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"chart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, !this.state.fetchingData ? __jsx(LineChart, {\n        data: this.state.data,\n        onChartHover: function onChartHover(a, b) {\n          return _this3.handleChartHover(a, b);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }\n      }) : null)), __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        id: \"coindesk\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }, \" Powered by \", __jsx(\"a\", {\n        href: \"http://www.coindesk.com/price/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 46\n        }\n      }, \"CoinDesk\"))));\n    }\n  }]);\n\n  return Prices;\n}(React.Component);\n\nexport default Prices;","map":{"version":3,"sources":["D:/Lambda/Next/BITZPRICE/components/Prices.js"],"names":["Prices","props","state","fetchingData","data","hoverLoc","activePoint","setState","getData","url","fetch","then","r","json","bitcoinData","sortedData","count","date","bpi","push","d","moment","format","p","toLocaleString","style","currency","x","y","e","console","log","a","b","handleChartHover","React","Component"],"mappings":"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","sourcesContent":["class Prices extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          fetchingData: true,\r\n          data: null,\r\n          hoverLoc: null,\r\n          activePoint: null\r\n        }\r\n      }\r\n      handleChartHover(hoverLoc, activePoint){\r\n        this.setState({\r\n          hoverLoc: hoverLoc,\r\n          activePoint: activePoint\r\n        })\r\n      }\r\n      componentDidMount(){\r\n        const getData = () => {\r\n          const url = 'https://api.coindesk.com/v1/bpi/historical/close.json';\r\n    \r\n          fetch(url).then( r => r.json())\r\n            .then((bitcoinData) => {\r\n              const sortedData = [];\r\n              let count = 0;\r\n              for (let date in bitcoinData.bpi){\r\n                sortedData.push({\r\n                  d: moment(date).format('MMM DD'),\r\n                  p: bitcoinData.bpi[date].toLocaleString('us-EN',{ style: 'currency', currency: 'USD' }),\r\n                  x: count, //previous days\r\n                  y: bitcoinData.bpi[date] // numerical price\r\n                });\r\n                count++;\r\n              }\r\n              this.setState({\r\n                data: sortedData,\r\n                fetchingData: false\r\n              })\r\n            })\r\n            .catch((e) => {\r\n              console.log(e);\r\n            });\r\n        }\r\n        getData();\r\n      }\r\n      render() {\r\n        return (\r\n    \r\n          <div className='container'>\r\n            <div className='row'>\r\n              <h1>30 Day Bitcoin Price Chart</h1>\r\n            </div>\r\n            <div className='row'>\r\n              { !this.state.fetchingData ?\r\n              <InfoBox data={this.state.data} />\r\n              : null }\r\n            </div>\r\n            <div className='row'>\r\n              <div className='popup'>\r\n                {this.state.hoverLoc ? <ToolTip hoverLoc={this.state.hoverLoc} activePoint={this.state.activePoint}/> : null}\r\n              </div>\r\n            </div>\r\n            <div className='row'>\r\n              <div className='chart'>\r\n                { !this.state.fetchingData ?\r\n                  <LineChart data={this.state.data} onChartHover={ (a,b) => this.handleChartHover(a,b) }/>\r\n                  : null }\r\n              </div>\r\n            </div>\r\n            <div className='row'>\r\n              <div id=\"coindesk\"> Powered by <a href=\"http://www.coindesk.com/price/\">CoinDesk</a></div>\r\n            </div>\r\n          </div>\r\n    \r\n        );\r\n      }\r\n    }\r\n\r\nexport default Prices\r\n"]},"metadata":{},"sourceType":"module"}